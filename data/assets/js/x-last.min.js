document.addEventListener("DOMContentLoaded",(()=>{initX()}));let translations={};function initX(){const n=localStorage.getItem("lang");n?loadLanguage(n):(localStorage.setItem("lang","en"),loadLanguage("en"))}function loadLanguage(n){fetch(`/assets/js/i18n/${n}.json`).then((n=>n.json())).then((n=>{translations=n,applyTranslations()})).catch((()=>console.error(`Language file "${n}.json" not found`)))}function applyTranslations(){document.querySelectorAll("[i18n]").forEach((n=>{const t=n.getAttribute("i18n");translations[t]&&(n.textContent=translations[t])}))}window.translateString=function(n){if(0!==translations.length)return translations[n]||n;fetch(`/assets/js/i18n/${lang}.json`).then((n=>n.json())).then((t=>(translations=t,translations[n]||n))).catch((()=>console.error(`Language file "${lang}.json" not found`)))};