"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["407"],{1222:function(e,t,a){a.r(t),a.d(t,{frontMatter:()=>i,default:()=>p,toc:()=>l,metadata:()=>r,assets:()=>d,contentTitle:()=>s});var r=JSON.parse('{"id":"home-assistant/automations","title":"Automations","description":"Here you\'ll find a collection of ready-to-use automation examples for your installation.","source":"@site/docs/home-assistant/automations.md","sourceDirName":"home-assistant","slug":"/home-assistant/automations","permalink":"/PandaGarage/home-assistant/automations","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1753719858000,"sidebarPosition":3,"frontMatter":{"title":"Automations","sidebar_position":3},"sidebar":"docs","previous":{"title":"Entities","permalink":"/PandaGarage/home-assistant/entities"},"next":{"title":"API","permalink":"/PandaGarage/api/introduction"}}'),o=a(5893),n=a(65);let i={title:"Automations",sidebar_position:3},s="Automations",d={},l=[{value:"Automatically shift door to vent position if temperature surpasses threshold.",id:"automatically-shift-door-to-vent-position-if-temperature-surpasses-threshold",level:3},{value:"Receive a notification when the door is opened or closed",id:"receive-a-notification-when-the-door-is-opened-or-closed",level:3},{value:"Receive an overtime alert when the door remains open for a specified duration",id:"receive-an-overtime-alert-when-the-door-remains-open-for-a-specified-duration",level:3},{value:"Restart PandaGarage if connection is lost",id:"restart-pandagarage-if-connection-is-lost",level:3}];function c(e){let t={admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,n.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"automations",children:"Automations"})}),"\n",(0,o.jsxs)(t.p,{children:["Here you'll find a collection of ready-to-use automation examples for your installation.\nThese automations are designed specifically for ",(0,o.jsx)(t.strong,{children:"Node-RED"}),". Simply copy the provided code and replace the example entities with your own."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsx)(t.p,{children:"If you've created an automation you'd like to share, please open an issue on GitHub \u2014 I'll review it and consider adding it to the list."})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.h3,{id:"automatically-shift-door-to-vent-position-if-temperature-surpasses-threshold",children:"Automatically shift door to vent position if temperature surpasses threshold."}),"\n",(0,o.jsx)(t.p,{children:"This automation will move the garage door to vent position, if the temperature exceeds 35\xb0C for over 10 minutes."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[{"id":"e10450ac006bab70","type":"server-state-changed","z":"fc01db6cebc7488d","name":"Garage Temperature over 35\xb0C for 10 minutes","server":"49b5425d.9340cc","version":6,"outputs":2,"exposeAsEntityConfig":"","entities":{"entity":["sensor.pandagarage_0904_temperature"],"substring":[],"regex":[]},"outputInitially":false,"stateType":"str","ifState":"35","ifStateType":"num","ifStateOperator":"gte","outputOnlyOnStateChange":true,"for":"10","forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[],"x":290,"y":460,"wires":[["f7fddb4b549ba4d0"],[]]},{"id":"7781b5203790211a","type":"api-call-service","z":"fc01db6cebc7488d","name":"Move door to vent position","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"button.press","floorId":[],"areaId":[],"deviceId":[],"entityId":["button.pandagarage_0904_vent_position"],"labelId":[],"data":"","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":true,"domain":"button","service":"press","x":840,"y":460,"wires":[[]]},{"id":"f7fddb4b549ba4d0","type":"api-current-state","z":"fc01db6cebc7488d","name":"Is door open?","server":"49b5425d.9340cc","version":3,"outputs":2,"halt_if":"open","halt_if_type":"str","halt_if_compare":"is","entity_id":"cover.pandagarage_0904_door","state_type":"str","blockInputOverrides":true,"outputProperties":[],"for":"0","forType":"num","forUnits":"minutes","override_topic":false,"state_location":"payload","override_payload":"msg","entity_location":"data","override_data":"msg","x":600,"y":460,"wires":[[],["7781b5203790211a"]]},{"id":"49b5425d.9340cc","type":"server","name":"Home Assistant","addon":true}]\n'})}),"\n",(0,o.jsx)(t.p,{children:"This one will close the door if temperature is under 30\xb0C for 10 minutes and the door is currently in vent position."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[{"id":"463283d80e8e8482","type":"server-state-changed","z":"fc01db6cebc7488d","name":"Garage Temperature under 30\xb0C for 10 minutes","server":"49b5425d.9340cc","version":6,"outputs":2,"exposeAsEntityConfig":"","entities":{"entity":["sensor.pandagarage_0904_temperature"],"substring":[],"regex":[]},"outputInitially":false,"stateType":"str","ifState":"30","ifStateType":"num","ifStateOperator":"lte","outputOnlyOnStateChange":true,"for":"10","forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[],"x":300,"y":540,"wires":[["7be909b9957e588c"],[]]},{"id":"ec8e537eff23e2c8","type":"api-call-service","z":"fc01db6cebc7488d","name":"Close door","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"cover.close_cover","floorId":[],"areaId":[],"deviceId":[],"entityId":["cover.pandagarage_0904_door"],"labelId":[],"data":"","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":true,"domain":"cover","service":"close_cover","x":1050,"y":540,"wires":[[]]},{"id":"7be909b9957e588c","type":"api-current-state","z":"fc01db6cebc7488d","name":"Is door open?","server":"49b5425d.9340cc","version":3,"outputs":2,"halt_if":"open","halt_if_type":"str","halt_if_compare":"is","entity_id":"cover.pandagarage_0904_door","state_type":"str","blockInputOverrides":true,"outputProperties":[{"property":"data","propertyType":"msg","value":"","valueType":"entity"}],"for":"0","forType":"num","forUnits":"minutes","override_topic":false,"state_location":"payload","override_payload":"msg","entity_location":"data","override_data":"msg","x":600,"y":540,"wires":[["6e08c1837ce917dc"],[]]},{"id":"6e08c1837ce917dc","type":"switch","z":"fc01db6cebc7488d","name":"Is door in vent position?","property":"data.new_state.attributes.current_position","propertyType":"msg","rules":[{"t":"eq","v":"4","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":830,"y":540,"wires":[["ec8e537eff23e2c8"]]},{"id":"49b5425d.9340cc","type":"server","name":"Home Assistant","addon":true}]\n'})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.h3,{id:"receive-a-notification-when-the-door-is-opened-or-closed",children:"Receive a notification when the door is opened or closed"}),"\n",(0,o.jsx)(t.p,{children:"These automations create a normal notification for opening / closing the garage door."}),"\n",(0,o.jsx)(t.p,{children:"Open Alert:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[{"id":"70d94add1092a077","type":"server-state-changed","z":"fc01db6cebc7488d","name":"Door opened","server":"49b5425d.9340cc","version":6,"outputs":2,"exposeAsEntityConfig":"","entities":{"entity":["cover.pandagarage_0904_door"],"substring":[],"regex":[]},"outputInitially":false,"stateType":"str","ifState":"open","ifStateType":"str","ifStateOperator":"is","outputOnlyOnStateChange":true,"for":"0","forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[],"x":190,"y":280,"wires":[["616f4b0c5a92e67f"],[]]},{"id":"616f4b0c5a92e67f","type":"api-call-service","z":"fc01db6cebc7488d","name":"","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"notify.mobile_app_iphone","floorId":[],"areaId":[],"deviceId":[],"entityId":[],"labelId":[],"data":"{\\t    \\"message\\": \\"Garage Door was opened\\",\\t    \\"title\\": \\"Garage Door opened!\\"\\t}","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":false,"domain":"notify","service":"mobile_app_iphone","x":460,"y":280,"wires":[[]]},{"id":"49b5425d.9340cc","type":"server","name":"Home Assistant","addon":true}]\n'})}),"\n",(0,o.jsx)(t.p,{children:"Close Alert"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[{"id":"49a462f55b519a2c","type":"server-state-changed","z":"fc01db6cebc7488d","name":"Door closed","server":"49b5425d.9340cc","version":6,"outputs":2,"exposeAsEntityConfig":"","entities":{"entity":["cover.pandagarage_0904_door"],"substring":[],"regex":[]},"outputInitially":false,"stateType":"str","ifState":"closed","ifStateType":"str","ifStateOperator":"is","outputOnlyOnStateChange":true,"for":"0","forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[],"x":190,"y":340,"wires":[["26d38b4f408344f5"],[]]},{"id":"26d38b4f408344f5","type":"api-call-service","z":"fc01db6cebc7488d","name":"","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"notify.mobile_app_iphone","floorId":[],"areaId":[],"deviceId":[],"entityId":[],"labelId":[],"data":"{\\t    \\"message\\": \\"Garage Door was closed\\",\\t    \\"title\\": \\"Garage Door Closed!\\"\\t}","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":false,"domain":"notify","service":"mobile_app_iphone","x":460,"y":340,"wires":[[]]},{"id":"49b5425d.9340cc","type":"server","name":"Home Assistant","addon":true}]\n'})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.h3,{id:"receive-an-overtime-alert-when-the-door-remains-open-for-a-specified-duration",children:"Receive an overtime alert when the door remains open for a specified duration"}),"\n",(0,o.jsx)(t.p,{children:"This sample automation creates a critical notification, when the door is open for 15 minutes."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[{"id":"a10f574a90597d7b","type":"server-state-changed","z":"fc01db6cebc7488d","name":"Door opened","server":"49b5425d.9340cc","version":6,"outputs":2,"exposeAsEntityConfig":"","entities":{"entity":["cover.pandagarage_0904_door"],"substring":[],"regex":[]},"outputInitially":false,"stateType":"str","ifState":"open","ifStateType":"str","ifStateOperator":"is","outputOnlyOnStateChange":true,"for":"15","forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[],"x":190,"y":180,"wires":[["47b7d06c743becd5"],[]]},{"id":"47b7d06c743becd5","type":"api-call-service","z":"fc01db6cebc7488d","name":"","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"notify.mobile_app_iphone","floorId":[],"areaId":[],"deviceId":[],"entityId":[],"labelId":[],"data":"{\\t    \\"message\\": \\"Garage Door is open for 15 minutes\\",\\t    \\"title\\": \\"Garage Door Overtime Alert!\\",\\t    \\"data\\": {\\t       \\"push\\": {\\t           \\"interruption-level\\": \\"critical\\"\\t       }\\t   }\\t}","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":false,"domain":"notify","service":"mobile_app_iphone","x":460,"y":180,"wires":[[]]},{"id":"49b5425d.9340cc","type":"server","name":"Home Assistant","addon":true}]\n'})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.h3,{id:"restart-pandagarage-if-connection-is-lost",children:"Restart PandaGarage if connection is lost"}),"\n",(0,o.jsx)(t.p,{children:"This automation will restart the PandaGarage, if the connection to Home Assistant is lost for 30 seconds.\nIf after 10 minutes there is still no connection, it will send a critical notification to a selected phone."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'[{"id":"628494410d54bdb5","type":"server-state-changed","z":"fc01db6cebc7488d","name":"Garage Door unavailabel for 30 seconds","server":"49b5425d.9340cc","version":6,"outputs":2,"exposeAsEntityConfig":"","entities":{"entity":["cover.pandagarage_0904_door"],"substring":[],"regex":[]},"outputInitially":false,"stateType":"str","ifState":"unavailable","ifStateType":"str","ifStateOperator":"is","outputOnlyOnStateChange":true,"for":"1","forType":"num","forUnits":"minutes","ignorePrevStateNull":false,"ignorePrevStateUnknown":false,"ignorePrevStateUnavailable":false,"ignoreCurrentStateUnknown":false,"ignoreCurrentStateUnavailable":false,"outputProperties":[],"x":280,"y":660,"wires":[["a31bae99d014f988"],[]]},{"id":"a31bae99d014f988","type":"api-call-service","z":"fc01db6cebc7488d","name":"Restart PandaGarage","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"button.press","floorId":[],"areaId":[],"deviceId":[],"entityId":["button.pandagarage_0904_restart"],"labelId":[],"data":"","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":true,"domain":"button","service":"press","x":580,"y":660,"wires":[["0656de0a110f9b57"]]},{"id":"0656de0a110f9b57","type":"api-current-state","z":"fc01db6cebc7488d","name":"still unavailable?","server":"49b5425d.9340cc","version":3,"outputs":2,"halt_if":"unavailable","halt_if_type":"str","halt_if_compare":"is","entity_id":"cover.pandagarage_0904_door","state_type":"str","blockInputOverrides":true,"outputProperties":[{"property":"payload","propertyType":"msg","value":"","valueType":"entityState"},{"property":"data","propertyType":"msg","value":"","valueType":"entity"}],"for":"10","forType":"num","forUnits":"minutes","override_topic":false,"state_location":"payload","override_payload":"msg","entity_location":"data","override_data":"msg","x":800,"y":660,"wires":[["8ae9be2482d735f9"],[]]},{"id":"8ae9be2482d735f9","type":"api-call-service","z":"fc01db6cebc7488d","name":"Push Notification","server":"49b5425d.9340cc","version":7,"debugenabled":false,"action":"notify.mobile_app_iphone","floorId":[],"areaId":[],"deviceId":[],"entityId":[],"labelId":[],"data":"{\\t    \\"message\\": \\"Garage Door is offline for 10 minutes\\",\\t    \\"title\\": \\"Garage Door Offline!\\",\\t    \\"data\\": {\\t       \\"push\\": {\\t           \\"interruption-level\\": \\"critical\\"\\t       }\\t   }\\t}","dataType":"jsonata","mergeContext":"","mustacheAltTags":false,"outputProperties":[],"queue":"none","blockInputOverrides":false,"domain":"notify","service":"mobile_app_iphone","x":1010,"y":660,"wires":[[]]},{"id":"49b5425d.9340cc","type":"server","name":"Home Assistant","addon":true}]\n'})})]})}function p(e={}){let{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},65:function(e,t,a){a.d(t,{Z:()=>s,a:()=>i});var r=a(7294);let o={},n=r.createContext(o);function i(e){let t=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);